<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Reduce alert noise by grouping similar alerts together">
<meta name="keywords" content="deduplication,  ">
<title>De-duplication Rules | Incident Management using Squadcast</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.png">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> The Squadcast Support Hub</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!--li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li-->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://www.squadcast.com" target="_blank" rel="noopener">Home</a></li>
                
                
                
                <li><a href="https://www.squadcast.com/blog" target="_blank" rel="noopener">Blog</a></li>
                
                
                
                <li><a href="https://headwayapp.co/squadcast-updates" target="_blank" rel="noopener">Changelog</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:support@squadcast.com?subject=Squadcast Support feedback&body=I have some feedback about the De-duplication Rules page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="Find anything">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="De-duplication Rules">{title}</a></li>',
                    noResultsText: 'No results found',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Squadcast Support v1.0</li>
  
  
  
      
  
  <li>
      <a title="Getting Started" href="#">Getting Started</a>
      <ul>
          
          
          
          <li><a title="Quickstart Guide" href="getting-started.html">Quickstart Guide</a></li>
          
          
          
          
          
          
          <li><a title="Glossary" href="glossary.html">Glossary</a></li>
          
          
          
          
          
          
          <li><a title="FAQs" href="squadcast-faq.html">FAQs</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="User Management" href="#">User Management</a>
      <ul>
          
          
          
          <li><a title="Manage Your Profile" href="set-up-your-profile.html">Manage Your Profile</a></li>
          
          
          
          
          
          
          <li><a title="Manage All Users" href="managing-all-users.html">Manage All Users</a></li>
          
          
          
          
          
          
          <li><a title="Notification Rules" href="notification-rules.html">Notification Rules</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Squads" href="#">Squads</a>
      <ul>
          
          
          
          <li><a title="Manage Squads" href="squads.html">Manage Squads</a></li>
          
          
          
          
          
          
          <li><a title="Create Smart Squads" href="create-smart-squads.html">Create Smart Squads</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Services" href="#">Services</a>
      <ul>
          
          
          
          <li><a title="Adding a Service" href="adding-a-service.html">Adding a Service</a></li>
          
          
          
          
          
          
          <li><a title="Maintenance Mode" href="maintenance-mode.html">Maintenance Mode</a></li>
          
          
          
          
          
          
          <li><a title="Suppression Rules" href="suppression-rules.html">Suppression Rules</a></li>
          
          
          
          
          
          
          <li><a title="Service Levels" href="service-levels.html">Service Levels</a></li>
          
          
          
          
          
          
          <li class="active"><a title="De-duplication Rules" href="de-duplication-rules.html">De-duplication Rules</a></li>
          
          
          
          
          
          
          <li><a title="Event Tagging" href="event-tagging.html">Event Tagging</a></li>
          
          
          
          
          
          
          <li><a title="Alert Routing" href="alert-routing.html">Alert Routing</a></li>
          
          
          
          
          
          
          <li><a title="Deleting a Service" href="deleting-a-service.html">Deleting a Service</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Schedules" href="#">Schedules</a>
      <ul>
          
          
          
          <li><a title="Create and Manage On-call Schedules & Rotations" href="schedules.html">Create and Manage On-call Schedules & Rotations</a></li>
          
          
          
          
          
          
          <li><a title="Supported On-call Schedules & Rotations" href="schedule-types.html">Supported On-call Schedules & Rotations</a></li>
          
          
          
          
          
          
          <li><a title="Scheduled Overrides (Multiple Alert Forwarding)" href="alert-forwarding.html">Scheduled Overrides (Multiple Alert Forwarding)</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Escalation Policies" href="#">Escalation Policies</a>
      <ul>
          
          
          
          <li><a title="Create & Manage Escalation Policies" href="escalation-policies.html">Create & Manage Escalation Policies</a></li>
          
          
          
          
          
          
          <li><a title="Editing an Existing Escalation Policy" href="editing-an-existing-escalation-policy.html">Editing an Existing Escalation Policy</a></li>
          
          
          
          
          
          
          <li><a title="Invoke an Escalation Policy for an Existing Incident" href="invoke-an-escalation-policy-for-an-existing-incident.html">Invoke an Escalation Policy for an Existing Incident</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Dashboards" href="#">Dashboards</a>
      <ul>
          
          
          
          <li><a title="Incident Dashboard" href="incident-dashboard.html">Incident Dashboard</a></li>
          
          
          
          
          
          
          <li><a title="Dashboard Metrics" href="dashboard-metrics.html">Dashboard Metrics</a></li>
          
          
          
          
          
          
          <li><a title="SLO Dashboard" href="slo-dashboard.html">SLO Dashboard</a></li>
          
          
          
          
          
          
          <li><a title="Take Bulk Actions" href="take-bulk-actions.html">Take Bulk Actions</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Incidents Page" href="#">Incidents Page</a>
      <ul>
          
          
          
          <li><a title="Incident Details" href="incident-details.html">Incident Details</a></li>
          
          
          
          
          
          
          <li><a title="Incident Timeline" href="incident-timeline.html">Incident Timeline</a></li>
          
          
          
          
          
          
          <li><a title="Incident War Room" href="warroom.html">Incident War Room</a></li>
          
          
          
          
          
          
          <li><a title="Pin messages from War Room to the Incident Timeline" href="pin-messages-from-warroom-to-timeline.html">Pin messages from War Room to the Incident Timeline</a></li>
          
          
          
          
          
          
          <li><a title="Manually Creating an Incident" href="manually-creating-an-incident.html">Manually Creating an Incident</a></li>
          
          
          
          
          
          
          <li><a title="Postmortems" href="postmortems.html">Postmortems</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="StatusPage" href="#">StatusPage</a>
      <ul>
          
          
          
          <li><a title="StatusPage" href="statuspage.html">StatusPage</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Analytics" href="#">Analytics</a>
      <ul>
          
          
          
          <li><a title="Analyze Metrics" href="analytics.html">Analyze Metrics</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Alert Source Integrations" href="#">Alert Source Integrations</a>
      <ul>
          
          
          
          <li><a title="Amazon Cloudwatch (AWS)" href="amazon-cloudwatch-aws.html">Amazon Cloudwatch (AWS)</a></li>
          
          
          
          
          
          
          <li><a title="AWS CloudTrail Logs" href="aws-cloudtrail-logs.html">AWS CloudTrail Logs</a></li>
          
          
          
          
          
          
          <li><a title="AWS CloudTrail via CloudWatch" href="aws-cloudtrail-via-cloudwatch.html">AWS CloudTrail via CloudWatch</a></li>
          
          
          
          
          
          
          <li><a title="AppDynamics" href="appdynamics.html">AppDynamics</a></li>
          
          
          
          
          
          
          <li><a title="API" href="api.html">API</a></li>
          
          
          
          
          
          
          <li><a title="APIv2" href="apiv2.html">APIv2</a></li>
          
          
          
          
          
          
          <li><a title="Azure Monitor" href="azure-monitor.html">Azure Monitor</a></li>
          
          
          
          
          
          
          <li><a title="Buildkite" href="buildkite.html">Buildkite</a></li>
          
          
          
          
          
          
          <li><a title="Checkmk" href="checkmk.html">Checkmk</a></li>
          
          
          
          
          
          
          <li><a title="Cisco DNAC" href="cisco-dnac.html">Cisco DNAC</a></li>
          
          
          
          
          
          
          <li><a title="CopperEgg" href="copperegg.html">CopperEgg</a></li>
          
          
          
          
          
          
          <li><a title="Coralogix" href="coralogix.html">Coralogix</a></li>
          
          
          
          
          
          
          <li><a title="Crashlytics" href="crashlytics.html">Crashlytics</a></li>
          
          
          
          
          
          
          <li><a title="Datadog" href="datadog.html">Datadog</a></li>
          
          
          
          
          
          
          <li><a title="Elastic" href="elastic.html">Elastic</a></li>
          
          
          
          
          
          
          <li><a title="ElastAlert" href="elastalert.html">ElastAlert</a></li>
          
          
          
          
          
          
          <li><a title="Email" href="email.html">Email</a></li>
          
          
          
          
          
          
          <li><a title="Freshping" href="freshping.html">Freshping</a></li>
          
          
          
          
          
          
          <li><a title="Ghost Inspector" href="ghost-inspector.html">Ghost Inspector</a></li>
          
          
          
          
          
          
          <li><a title="Grafana" href="grafana.html">Grafana</a></li>
          
          
          
          
          
          
          <li><a title="Graylog" href="graylog.html">Graylog</a></li>
          
          
          
          
          
          
          <li><a title="Honeybadger" href="honeybadger.html">Honeybadger</a></li>
          
          
          
          
          
          
          <li><a title="InsightOps (LogEntries)" href="insightops-logentries.html">InsightOps (LogEntries)</a></li>
          
          
          
          
          
          
          <li><a title="Instana" href="instana.html">Instana</a></li>
          
          
          
          
          
          
          <li><a title="Jenkins Integration" href="jenkins.html">Jenkins Integration</a></li>
          
          
          
          
          
          
          <li><a title="Jira Cloud Alert Source" href="jira-cloud-alert-source.html">Jira Cloud Alert Source</a></li>
          
          
          
          
          
          
          <li><a title="Jira Server Alert Source" href="jira-server-alert-source.html">Jira Server Alert Source</a></li>
          
          
          
          
          
          
          <li><a title="LogDNA" href="logdna.html">LogDNA</a></li>
          
          
          
          
          
          
          <li><a title="Loggly" href="loggly.html">Loggly</a></li>
          
          
          
          
          
          
          <li><a title="Logstash" href="logstash-integration-guide.html">Logstash</a></li>
          
          
          
          
          
          
          <li><a title="ManageEngine Opmanager" href="manageengine-opmanager.html">ManageEngine Opmanager</a></li>
          
          
          
          
          
          
          <li><a title="MongoDB Atlas / Cloud Manager" href="mongodb-atlas-cloud-manager.html">MongoDB Atlas / Cloud Manager</a></li>
          
          
          
          
          
          
          <li><a title="Nagios" href="nagios.html">Nagios</a></li>
          
          
          
          
          
          
          <li><a title="New Relic" href="new-relic.html">New Relic</a></li>
          
          
          
          
          
          
          <li><a title="OverOps" href="overops.html">OverOps</a></li>
          
          
          
          
          
          
          <li><a title="Papertrail" href="papertrail.html">Papertrail</a></li>
          
          
          
          
          
          
          <li><a title="Pingdom" href="pingdom.html">Pingdom</a></li>
          
          
          
          
          
          
          <li><a title="Prometheus" href="prometheus.html">Prometheus</a></li>
          
          
          
          
          
          
          <li><a title="Rapid7 InsightIDR" href="rapid7-insightidr.html">Rapid7 InsightIDR</a></li>
          
          
          
          
          
          
          <li><a title="Runscope" href="runscope.html">Runscope</a></li>
          
          
          
          
          
          
          <li><a title="Scout APM" href="scout-apm.html">Scout APM</a></li>
          
          
          
          
          
          
          <li><a title="Sensu" href="sensu.html">Sensu</a></li>
          
          
          
          
          
          
          <li><a title="Sentry.io" href="sentryio.html">Sentry.io</a></li>
          
          
          
          
          
          
          <li><a title="Server Density" href="server-density.html">Server Density</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <style>
a[href^="http://"]:after, a[href^="https://"]:after {
    content: none;
}

@media screen and (max-width: 1920px){
    #tg-sb-sidebar{
        position: sticky;
        top: 0;
        margin-bottom: 30px;
    }
    #toc{
        position: fixed;
    }
    #results-container{
        margin-top: 10px;
    }
}
@media screen and (max-width: 1024px){
    #tg-sb-sidebar{
        position: relative;
        margin-bottom: auto;
    }
    #toc{
        display: none;
    }
    #results-container{
        margin-top: auto;
    }
}
</style>



<div class="post-content">
    <div class="col-md-8">
        <div class="post-header">
            <h1 class="post-title-main">De-duplication Rules</h1>
        </div>
            
                <div class="summary">Reduce alert noise by grouping similar alerts together</div>
            

                

            <p>Alert de-duplication can help you reduce alert noise by organising and grouping relevant alerts. This also provides easy access to similar alerts when needed.</p>

<p>For each service, you can define your rule for de-duplication.</p>

<p>You can set this up by going to app.squadcast.com.</p>
<ul>
  <li>Go to the relevant service</li>
  <li>Click on the options dropdown</li>
  <li>Choose De-duplication rules</li>
</ul>

<p><img src="images/dedup_1.png" alt="" /></p>

<ul>
  <li>Choose Alert Source from the Dropdown</li>
</ul>

<p><img src="images/dedup_2.png" alt="" /></p>

<p>You can add your de-duplication rule expression in the field “Deduplication rule”, select a time window for which the rule holds true. You could also choose to select the option of the maximum time window allowable, which is 48 hours.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i>
 <b>Time Window:</b>
 <br /><br /><p>During the time window set, incidents that occur are compared against all incidents that come in during that time period and will then get deduplicated against the first incident that it matches with.</p>
 </div>

<p>The rules will be checked against all the incidents based on the time window set in place.</p>

<p>You can add as many rules by selecting the “Add rule” button below. The deduplication will be true for the first rule that matches in the list of rules added by you.</p>

<p><img src="images/dedup_3.png" alt="" /></p>

<p>The count of events deduplicated against an incident will be shown in the incident dashboard and the incident details page.</p>

<p><img src="images/dedup_4.png" alt="" /></p>

<p><img src="images/dedup_5.png" alt="" /></p>

<h2 id="syntax-for-writing-rules">Syntax for Writing Rules</h2>

<p>The rule engine supports expressions with parameters, arithmetic, logical, and string operations. You can also check out this <a href="https://regex101.com/">link</a> to get an idea of all the expression types accepted in Squadcast.</p>

<ul>
  <li>Basic expression: <code class="highlighter-rouge">10 &gt; 0</code>, <code class="highlighter-rouge">1+2</code>, <code class="highlighter-rouge">100/3</code></li>
  <li>Parameterized expression: <code class="highlighter-rouge">past.metric == current.metric</code>
 The available parameters are <code class="highlighter-rouge">past</code>, <code class="highlighter-rouge">current</code>, <code class="highlighter-rouge">event_count</code>
    <ul>
      <li><code class="highlighter-rouge">past</code> : This parameter contains the JSON payload of the previous incident which the current event is compared with.</li>
      <li><code class="highlighter-rouge">current</code> : This parameter contains the JSON payload of the incoming event which will be compared with the past incidents’ JSON payload.</li>
      <li><code class="highlighter-rouge">event_count</code> : This denotes the number of deduplicated events for a given incident</li>
    </ul>
  </li>
  <li>Regular expression: <code class="highlighter-rouge">re(past.metric, "disk.*")</code>
 This can be used to check if a particular JSON payload field matches a regular expression.</li>
  <li>Parsing JSON content: <code class="highlighter-rouge">jsonPath(payload.message, "a.b.c")</code>
   This can be used to parse JSON formatted strings and get the <code class="highlighter-rouge">jsonPath</code> from the resulting JSON object</li>
</ul>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i>
<b>Use Case for event_count:</b>
<br /><br /><p>This can be used in scenarios where you don't want to deduplicate more than <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">n</code> number of events to a particular incident.</p>
</div>

<h2 id="examples">Examples</h2>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i>
<b>UPDATE: Multiple Alert Source:</b>
<br /><br /><p>We can see alert payloads of past events from different alert sources for the service by selecting the respective alert source from the dropdown in the right-half side.<br /><br />
With <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">Multiple Alert Sources</code>, user now can perform de-duplication across different alert sources for a service. For example, if there is already an event that was triggered by alert source <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">sentry</code> and after sometime, there is another alert coming from <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">jira-plugin</code> indicating about the same alert, then you can dedupe them by using a rule which will look something like: <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">(past.source == 'sentry' &amp;&amp; current.source == 'jira-plugin') &amp;&amp; &lt;your_de-duplication_rule&gt;</code></p>
</div>

<p>For a sample content shown in the right panel of the configuration space</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"past"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"issue_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bug - 2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issue_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10029"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issue_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HYD-30"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issue_labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"issue_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://13.233.254.18:8080/browse/HYD/issues/HYD-30"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issue_priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Medium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issue_summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bug - 2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issue_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bug"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"project_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"project_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HYD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"project_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hydra"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jira-plugin"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p><strong>Use Case</strong></p>

<p>For any incoming alert, if</p>
<ul>
  <li>The <code class="highlighter-rouge">metric</code> matches the regular expression <code class="highlighter-rouge">^disk.*</code></li>
  <li>The <code class="highlighter-rouge">past</code> incident <code class="highlighter-rouge">metric</code> and the <code class="highlighter-rouge">current</code> event <code class="highlighter-rouge">metric</code> are the same</li>
  <li>The <code class="highlighter-rouge">past</code> incident <code class="highlighter-rouge">host</code> and the <code class="highlighter-rouge">current</code> event <code class="highlighter-rouge">host</code> are the same</li>
  <li>The <code class="highlighter-rouge">current</code> disk usage <code class="highlighter-rouge">value</code> is less than 60%</li>
  <li>The <code class="highlighter-rouge">context</code> value tag is same</li>
</ul>

<p><strong>Rule</strong></p>

<p><code class="highlighter-rouge">(past.metric == current.metric) &amp;&amp; re(current.metric, "^disk.*") &amp;&amp; (past.host == current.host) &amp;&amp; (current.value &lt; 60) &amp;&amp; jsonPath(past.tags, "context.value") == jsonPath(current.tags, "context.value") </code></p>


                <div class="tags">
                    
                    <b>Tags: </b>
                    
                    
                    
                    <a href="tag_deduplication.html" class="btn btn-default navbar-btn cursorNorm" role="button">deduplication</a>
                    
                    
                    
                </div>

            

    </div>
    <div class="col-md-4">
        
        
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc" style="margin-top: 30px;"></div>

        
    </div>
</div>
<script>
    if (window.innerWidth>1024){
        window.addEventListener('scroll', function(){
            if (window.scrollY>=73){
                document.getElementById('toc').setAttribute('style', 'position: fixed; top: 0; margin-top: 30px;');
            }else{
                document.getElementById('toc').setAttribute('style', 'margin-top: 30px; position: fixed;');
            }
        }); 
    }
</script>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2020 Squadcast. All rights reserved. <br />
 Site last generated: Apr 29, 2020 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
            <script>
                window.intercomSettings = {
                    app_id: "lqtvxnd7",
                    custom_launcher_selector: "#support"
                };
            </script>
            <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/lqtvxnd7';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();</script>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
